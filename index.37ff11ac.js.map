{"mappings":"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","sources":["src/js/main.js","src/js/renderBookCards.js","src/js/mainCardRender.js","src/js/categoriesRenderList.js","src/js/categories.js","src/js/categoriesSelectBtn.js","src/js/categoriesSelect.js","src/js/loader.js"],"sourcesContent":["import { FetchBooks } from './booksApi.js';\nimport renderBookCards from './renderBookCards.js';\n\nconst bookShelf = new FetchBooks;\n\nasync function fetchBook() {\n  try {\n    const response = await bookShelf.fetchTopBooks();\n    renderBookCards(response.data)\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  };\n};\n\nfetchBook()\n\nexport default fetchBook;\n","import renderCard from './mainCardRender.js';\n//\n\nasync function renderCards(data) {\n  // best seller books title\n  // const bookShelf = document.querySelector('.books-content');\n  // bookShelf.innerHTML = '<ul class=\"top-books\"></ul>';\n\n  const box = document.querySelector('.top-books');\n  box.innerHTML =\n    '<h2 class=\"main-title\">Best Sellers<span class=\"color-accent\"> Books</span></h2>';\n\n  // ебучие циклы\n  // const fragment = document.createDocumentFragment();\n  try {\n    if (window.screen.width < 767.8) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 1;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width > 767.8 && window.screen.width < 1440) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 3;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width >= 1440) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 5;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else {\n      // console.log('nepravilno');\n      console.error('ops... something went wrong, contact us via email');\n      // notify\n    }\n  } catch (error) {\n    console.log(error);\n    // не забудь нотификс\n  }\n  // const topCat = document.\n}\n\nfunction renderCardsWrapper(cards, list_name) {\n  const markup = `\n  <li class=\"top-books-containers \">\n  <h3 class=\"item-category\">${list_name}</h3>\n  <ul class=\"box-category\">\n  ${cards}\n  </ul>\n  <button type=\"button\" aria-label=\"Show more\" class=\"see-more\">See more</button>\n  </li>\n  `;\n\n  return markup;\n}\n\nexport default renderCards;\n","function cardRender(books, length) {\n  let markup = '';\n  for (let i = 0; i < length; i += 1) {\n    const { _id,book_image ,title, author } = books[i];\n    \n    markup += `\n      <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\n        <a class=\"link-books-render\" href=\"#\">  \n      <div class=\"card-book\">\n            <div class=\"img-card-book\">\n            <img src=\"${book_image}\" alt=\"book\" class=\"img-book\">\n            </div>\n              <div class=\"box-text-book-best\">\n                <div class=\"box-title\">  \n                  <p class=\"title-book\">${title}</p>\n                </div>\n                  <div class=\"box-author\">  \n                  <p class=\"author-book\">${author}</p>\n                  </div>\n                </div>\n          </div>\n        </a>\n          </li>\n  `\n  };\n  return markup;\n};\n\nexport default cardRender;\n","const genresListWrapper = document.querySelector('.categories-select-wrapper')\n\n\nfunction populateGenresList(array) {\n  // main ul\n  const ul = document.createElement('ul');\n  ul.classList.add('categories-list');\n  // no filtering btn\n  const allCat = document.createElement('li');\n  const allCatBtn = document.createElement('button');\n  allCatBtn.setAttribute('type', 'button');\n  allCatBtn.setAttribute('id', 'All categories');\n  allCatBtn.classList.add('categories-active', 'categories-list-el');\n  allCatBtn.textContent = 'All categories';\n  allCat.appendChild(allCatBtn)\n  ul.appendChild(allCat);\n  // select genres btn's\n  array.forEach((el, i) => {\n    const listOfItems = document.createElement('li');\n    const item = document.createElement('button');\n    item.setAttribute('type', 'button');\n    item.setAttribute('id', `${array[i].list_name}`);\n    item.classList.add('categories-list-el');\n    item.textContent = `${el.list_name}`;\n    listOfItems.appendChild(item);\n    ul.appendChild(listOfItems);\n  })\n  // populating ul with btn's\n  genresListWrapper.appendChild(ul);\n};\n\n\nexport default populateGenresList\n\n","import { FetchBooks } from './booksApi.js'\nimport populateGenresList from './categoriesRenderList.js'\nimport onCatSelectBtn from './categoriesSelectBtn.js'\n\n// ========================================================\n\nconst wrapper = document.querySelector('.categories-select-wrapper')\n\n// ========================================================\n\nconst fetchCategory = new FetchBooks\n\nasync function categoriesList() {\n  try {\n    const response = await fetchCategory.fetchCategoryList();\n    await populateGenresList(response.data);\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  }\n}\n\ncategoriesList()\n\nwrapper.addEventListener('click', ev => onCatSelectBtn(ev, fetchCategory));\n\n\n\n\n","import populateByCategories from './categoriesSelect';\nimport fetchBook from './main';\n\nasync function onCatSelectBtn(click, fetchCategory) {\n  if (click.target.nodeName !== 'BUTTON') {\n    return;\n  };\n  try {\n    if (click.target.id === 'All categories') {\n      fetchBook();\n      const privActiveBtn = document.querySelector('.categories-active');\n      privActiveBtn.classList.remove('categories-active');\n      click.target.classList.add('categories-active');\n      return;\n    };\n  } catch (error) {\n    console.log(error);\n  }\n  const privActiveBtn = document.querySelector('.categories-active');\n  privActiveBtn.classList.remove('categories-active');\n  click.target.classList.add('categories-active');\n  try {\n    // console.log(click.srcElement.id);\n    fetchCategory.category = click.srcElement.id;\n    // console.log(fetchCategory.category);\n    await populateByCategories(fetchCategory);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\n// const all = document.querySelector('#All categories')\n\n// all.addEventListener('click', () =>  fetchBooks())\n\n\n\n\n\n\n\n\nexport default onCatSelectBtn;","import cardRender from './mainCardRender.js';\n\nasync function populateByCategories(fetchCategory) {\n  const categories = fetchCategory.category;\n  try {\n    const response = await fetchCategory.fetchCategoryOfBooks().then(\n      response => response.data\n    );\n    if (response.length < 1) {\n      // return МЕСТО ДЛЯ НОТИФИКСА!!!!\n    };\n    const cards = cardRender(response, response.length);\n\n    await renderMain(categories, cards);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\nfunction renderMain(cat, cards) {\n  const catName = findLastWord(cat);\n\n  const box = document.querySelector('.books-content');\n  const title = `<h2 class=\"main-title\">${catName.string} <span class=\"color-accent\">${catName.lastWord}</span></h2>`\n  // const title = document.createElement('h2');\n  // title.classList.add('main-title');\n  // title.insertAdjacentHTML('beforeend',\n  //   ``\n  // );\n  const top = document.querySelector('.top-books');\n  top.innerHTML= `${title}<div class=\"cat-books-container\">${cards}</div>`;\n  // box.innerHTML = `${title} <ul class=\"top-books\">${cards}</ul>`;\n  // .innerHTML(cards);\n  // console.log(fragment);\n  // box.innerHTML(fragment);\n};\n\n\nfunction findLastWord(cat) {\n  const words = cat.split(' ');\n  if (words.length > 1) {\n    const lastWord = words.pop();\n    const string = words.join(' ');\n\n    return {\n      string: string,\n      lastWord: lastWord,\n    };\n  } else {\n    // Место под нотифликс!!!!!!!!!!!!!!!!!!!\n    return console.log(error);\n  };\n}\n\n\nexport default populateByCategories;","const loaders = document.querySelectorAll('.loader-container');\nconst categories = document.querySelector('.categories-select-wrapper');\n\nwindow.addEventListener('load', function () {\n  loaders.forEach(loader => {\n    this.setTimeout(() => {\n      loader.style.display = 'none';\n    }, 500);\n  });\n});\n"],"names":["$bpxeT","parcelRequire","$8c960d6988dcbed2$export$2e2bcd8739ae039","books","length","markup","i","_i","_id","book_image","title","author","concat","$e8fd001f8770684d$var$_renderCards","$parcel$interopDefault","$2TvXO","mark","_callee","data","box","list_name","cards","completeCardsSection","i1","_i1","books1","list_name1","cards1","completeCardsSection1","i2","_i2","books2","list_name2","cards2","completeCardsSection2","document","querySelector","innerHTML","window","screen","width","$e8fd001f8770684d$var$renderCardsWrapper","insertAdjacentHTML","console","error","log","apply","this","arguments","$e8fd001f8770684d$export$2e2bcd8739ae039","$089c40fcbb903d20$var$bookShelf","$7a6b6","FetchBooks","$089c40fcbb903d20$var$fetchBook","$089c40fcbb903d20$var$_fetchBook","response","fetchTopBooks","_ctx","sent","t0","$089c40fcbb903d20$export$2e2bcd8739ae039","$2dc929d27f71ed32$var$genresListWrapper","$2dc929d27f71ed32$export$2e2bcd8739ae039","array","ul","createElement","classList","add","allCat","allCatBtn","setAttribute","textContent","appendChild","forEach","el","listOfItems","item","$5ffdf3e24213500a$var$_populateByCategories","fetchCategory","categories","response1","category","fetchCategoryOfBooks","then","$5ffdf3e24213500a$var$renderMain","cat","catName","words","split","lastWord","pop","string","join","$5ffdf3e24213500a$var$findLastWord","$5ffdf3e24213500a$export$2e2bcd8739ae039","$852f23af65b72c1c$var$_onCatSelectBtn","click","target","nodeName","id","remove","srcElement","t1","$852f23af65b72c1c$export$2e2bcd8739ae039","$7035cf87bda54340$var$wrapper","$7035cf87bda54340$var$fetchCategory","$7035cf87bda54340$var$_categoriesList","fetchCategoryList","$7035cf87bda54340$var$categoriesList","addEventListener","ev","$03da642c15b09e5e$var$loaders","querySelectorAll","loader","_this","setTimeout","style","display"],"version":3,"file":"index.37ff11ac.js.map"}