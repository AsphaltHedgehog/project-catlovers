{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6064974b0b5369db.js","src/js/main.js","src/js/mainCardRender.js","src/js/renderBookCards.js","src/js/categories.js","src/js/categoriesRenderList.js","src/js/categoriesSelect.js","src/js/categoriesSelectBtn.js","src/js/pop-up-modal-window.js","src/js/pop-up-modal-rendering.js","node_modules/@parcel/runtime-js/lib/runtime-7ba5895d5f5fcf4a.js","node_modules/@parcel/runtime-js/lib/runtime-984174ab2c0d5bb3.js","node_modules/@parcel/runtime-js/lib/runtime-8a744c46f67fdd6c.js","src/js/scrollUp-btn.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.ef42e29f.js\\\",\\\"ewt39\\\":\\\"icon-x-close.0d6025fe.svg\\\",\\\"dUcaX\\\":\\\"amazon-link_2x.fad82e15.png\\\",\\\"8BG5f\\\":\\\"book-link_2x.cdd3fb2c.png\\\",\\\"eYuym\\\":\\\"shopinglist.cb3b104f.js\\\"}\"));","import { FetchBooks } from './booksApi.js';\nimport renderBookCards from './renderBookCards.js';\n\nconst bookShelf = new FetchBooks;\n\nasync function fetchBook() {\n  try {\n    const response = await bookShelf.fetchTopBooks();\n    renderBookCards(response.data)\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  };\n};\n\nfetchBook()\n\nexport default fetchBook;\n","function cardRender(books, length) {\n  let markup = '';\n  for (let i = 0; i < length; i += 1) {\n    const { _id,book_image ,title, author } = books[i];\n    \n    markup += `\n      <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\n        <a class=\"link-books-render\" href=\"#\">  \n      <div class=\"card-book\">\n            <div class=\"img-card-book\">\n            <img src=\"${book_image}\" alt=\"book\" class=\"img-book\">\n            <div class=\"hover-overlay\">\n            <p class=\"overlay-text\">\n            quick view\n            </p>\n            </div>\n            </div>\n              <div class=\"box-text-book-best\">\n                <div class=\"box-title\">  \n                  <p class=\"title-book\">${title}</p>\n                </div>\n                  <div class=\"box-author\">  \n                  <p class=\"author-book\">${author}</p>\n                  </div>\n                </div>\n          </div>\n        </a>\n          </li>\n  `\n  };\n  return markup;\n};\n\nexport default cardRender;\n","import renderCard from './mainCardRender.js';\n//\n\nasync function renderCards(data) {\n  // best seller books title\n  // const bookShelf = document.querySelector('.books-content');\n  // bookShelf.innerHTML = '<ul class=\"top-books\"></ul>';\n\n  const box = document.querySelector('.top-books');\n  box.innerHTML =\n    '<li><h2 class=\"main-title\">Best Sellers<span class=\"color-accent\"> Books</span></h2></li>';\n\n  // ебучие циклы\n  // const fragment = document.createDocumentFragment();\n  try {\n    if (window.screen.width < 767.8) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 1;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width >= 768 && window.screen.width <= 1439.98) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 3;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width >= 1440) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 5;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else {\n      console.error('ops... something went wrong, contact us via email');\n      // notify\n    }\n  } catch (error) {\n    console.log(error);\n    // не забудь нотификс\n  }\n  // const topCat = document.\n}\n\nfunction renderCardsWrapper(cards, list_name) {\n  let adaptiveStyles = ``\n  if (window.screen.width >= 1440) {\n    adaptiveStyles = `box-category-pc`\n  }\n  if (window.screen.width >= 768 && 1439.98 >= window.screen.width) {\n    adaptiveStyles = `box-category-tablet`\n  }\n  const wrapperMarkup = `\n  <li class=\"top-books-containers \">\n  <h3 class=\"item-category\">${list_name}</h3>\n  <ul class=\"box-category ${adaptiveStyles}\">\n  ${cards}\n  </ul>\n  <button type=\"button\" data-cat-name='${list_name}' aria-label=\"Show more\" class=\"see-more\">See more</button>\n  </li>\n  `;\n\n  return wrapperMarkup;\n}\n\nexport default renderCards;\n","import { FetchBooks } from './booksApi.js'\nimport populateGenresList from './categoriesRenderList.js'\nimport onCatSelectBtn from './categoriesSelectBtn.js'\n\n// ========================================================\n\nconst wrapper = document.querySelector('.base-wrapper')\n\n// ========================================================\n\nconst fetchCategory = new FetchBooks\n\nasync function categoriesList() {\n  try {\n    const response = await fetchCategory.fetchCategoryList();\n    await populateGenresList(response.data);\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  }\n}\n\ncategoriesList()\n\nwrapper.addEventListener('click', ev => onCatSelectBtn(ev, fetchCategory));\n\n\n\n\n","const genresListWrapper = document.querySelector('.categories-select-wrapper')\n\n\nfunction populateGenresList(array) {\n  // main ul\n  const ul = document.createElement('ul');\n  ul.classList.add('categories-list');\n  // no filtering btn\n  const allCat = document.createElement('li');\n  const allCatBtn = document.createElement('button');\n  allCatBtn.setAttribute('type', 'button');\n  allCatBtn.setAttribute('data-cat-name', 'All categories');\n  allCatBtn.setAttribute('area-label', 'All categories')\n  allCatBtn.classList.add('categories-active', 'categories-list-el');\n  allCatBtn.textContent = 'All categories';\n  allCat.appendChild(allCatBtn)\n  ul.appendChild(allCat);\n  // select genres btn's\n  array.forEach((el, i) => {\n    const listOfItems = document.createElement('li');\n    const item = document.createElement('button');\n    item.setAttribute('type', 'button');\n    item.setAttribute('data-cat-name', `${array[i].list_name}`);\n    item.setAttribute('area-label', `${array[i].list_name}`);\n    item.classList.add('categories-list-el');\n    item.textContent = `${el.list_name}`;\n    listOfItems.appendChild(item);\n    ul.appendChild(listOfItems);\n  })\n  // populating ul with btn's\n  genresListWrapper.appendChild(ul);\n};\n\n\nexport default populateGenresList\n\n","import cardRender from './mainCardRender.js';\n\nasync function populateByCategories(fetchCategory) {\n  const categories = fetchCategory.category;\n  try {\n    const response = await fetchCategory.fetchCategoryOfBooks().then(\n      response => response.data\n    );\n    if (response.length < 1) {\n      // return МЕСТО ДЛЯ НОТИФИКСА!!!!\n    };\n    const cards = cardRender(response, response.length);\n\n    await renderMain(categories, cards);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\nfunction renderMain(cat, cards) {\n  const catName = findLastWord(cat);\n  const box = document.querySelector('.books-content');\n  const title = `<li><h2 class=\"main-title\">${catName.string} <span class=\"color-accent\">${catName.lastWord}</span></h2></li>`\n  // const title = document.createElement('h2');\n  // title.classList.add('main-title');\n  // title.insertAdjacentHTML('beforeend',\n  //   ``\n  // );\n  const top = document.querySelector('.top-books');\n  top.innerHTML= `${title}<div class=\"cat-books-container\">${cards}</div>`;\n  // box.innerHTML = `${title} <ul class=\"top-books\">${cards}</ul>`;\n  // .innerHTML(cards);\n  // console.log(fragment);\n  // box.innerHTML(fragment);\n};\n\n\nfunction findLastWord(cat) {\n  const words = cat.split(' ');\n  if (words.length > 1) {\n    const lastWord = words.pop();\n    const string = words.join(' ');\n\n    return {\n      string: string,\n      lastWord: lastWord,\n    };\n  } else {\n    // Место под нотифликс!!!!!!!!!!!!!!!!!!!\n    return console.log(error);\n  };\n}\n\n\nexport default populateByCategories;","import populateByCategories from './categoriesSelect';\nimport fetchBook from './main';\n\nasync function onCatSelectBtn(click, fetchCategory) {\n  const privActiveBtn = document.querySelector('.categories-active');\n  if (click.target.nodeName !== 'BUTTON') {\n    return;\n  };\n  try {\n    if (click.target.dataset.catName === 'All categories') {\n      fetchBook();\n      // const privActiveBtn = document.querySelector('.categories-active');\n      // privActiveBtn.classList.remove('categories-active');\n      // click.target.classList.add('categories-active');\n      addActiveStyle(click, privActiveBtn);\n      return;\n    };\n  } catch (error) {\n    console.log(error);\n  }\n  // const privActiveBtn = document.querySelector('.categories-active');\n  addActiveStyle(click, privActiveBtn)\n  // privActiveBtn.classList.remove('categories-active');\n  // click.target.classList.add('categories-active');\n  try {\n    // console.log(click.srcElement.id);\n    fetchCategory.category = click.srcElement.dataset.catName;\n    \n    // console.log(fetchCategory.category);\n    await populateByCategories(fetchCategory);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\n// const all = document.querySelector('#All categories')\n\n// all.addEventListener('click', () =>  fetchBooks())\n\n\nfunction addActiveStyle(click, activeBtn) {\n  const categoryName = click.srcElement.dataset.catName;\n\n  const catSelector = document.querySelectorAll('.categories-list li');\n  for (const el of catSelector) {\n    const btn = el.querySelector(`button[data-cat-name='${categoryName}']`);\n    if (btn) {\n      activeBtn.classList.remove('categories-active');\n      btn.classList.add('categories-active')\n      break;\n    }\n  }\n}\n\n\n\n\n\nexport default onCatSelectBtn;","import { FetchBooks } from './booksApi';\nimport { renderBookInfo } from './pop-up-modal-rendering';\n\n// function noScroll() {\n//   window.scrollTo(0, 0)\n// }\n\nfunction functiondisable() {\n  let TopScroll = 0\n  let LeftScroll = 0\n  // To get the scroll position of current webpage\n  TopScroll = window.scrollY || document.documentElement.scrollTop;\n  LeftScroll = window.scrollX || document.documentElement.scrollLeft;\n  document.body.classList.add('blockScroll');\n  \n  // if scroll happens, set it to the previous value\n  window.onscroll = function() {\n  window.scrollTo(LeftScroll, TopScroll);\n          };\n  }\n  \n  function functionenable() {\n  window.onscroll = function() {};\n  document.body.classList.remove('blockScroll');\n  }\n\nconst books = document.querySelector('.top-books');\nif (books) {\n  books.addEventListener('click', async event => {\n    const bookCard = event.target.closest('li.js-book-modal');\n    if (!bookCard) {\n      return;\n    }\n    // window.addEventListener('scroll', noScroll)\n    functiondisable();\n    const bookId = bookCard.getAttribute('data-book-id');\n    const fetch = new FetchBooks();\n    fetch.bookId = bookId;\n    const response = await fetch.fetchBookId();\n    const book_json = response.data;\n    const book_data = {\n      book_image: book_json.book_image,\n      title: book_json.title,\n      description: book_json.description,\n      author: book_json.author,\n      amazon_link: book_json.buy_links.find(link => link.name === 'Amazon')\n        ?.url,\n      apple_link: book_json.buy_links.find(link => link.name === 'Apple Books')\n        ?.url,\n    };\n\n    const BOOKS_STORAGE = 'books';\n    const popup = document.createElement('div');\n\n    popup.innerHTML = renderBookInfo(book_data, isInShoppingList(bookId));\n    document.body.appendChild(popup);\n\n    const onEscape = event => {\n      if (event.key === 'Escape') {\n        document.body.removeChild(popup);\n        document.removeEventListener('keyup', onEscape);\n        functionenable();\n        // window.removeEventListener('scroll', noScroll)\n      }\n    };\n\n    document.addEventListener('keyup', onEscape);\n\n    const modalCloseBtnEl = popup.querySelector('.modal-close__btn');\n\n    modalCloseBtnEl.addEventListener('click', closeModal);\n    function closeModal(event) {\n      document.body.removeChild(popup);\n      document.removeEventListener('keyup', onEscape);\n      event.stopPropagation();\n      functionenable();\n      // window.removeEventListener('scroll', noScroll)\n    }\n\n    const backDropModalEl = popup.querySelector('.backdrop__modal');\n    backDropModalEl.addEventListener('click', closeModalClick);\n    function closeModalClick(evt) {\n      if (evt.target !== backDropModalEl) {\n        return;\n      }\n      document.body.removeChild(popup);\n      document.removeEventListener('keyup', onEscape);\n      evt.stopPropagation();\n      functionenable();\n      // window.removeEventListener('scroll', noScroll)\n    }\n\n    function isInShoppingList(bookId) {\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      if (!booksDataJson) {\n        booksDataJson = '[]';\n      }\n      let booksData = JSON.parse(booksDataJson);\n      return booksData.find(book => book._id === bookId) !== undefined;\n    }\n\n    const congrTextEl = document.querySelector('.congrat-text');\n    popup.querySelector('.add-card__bnt').addEventListener('click', evt => {\n      if (isInShoppingList(bookId)) {\n        removeFromShoppingList(book_json);\n        evt.target.innerText = 'add to shopping list';\n        congrTextEl.textContent = '';\n      } else {\n        addToShoppingList(book_json);\n        evt.target.innerText = 'remove from the shopping list';\n        congrTextEl.textContent =\n          'Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n      }\n    });\n\n    function addToShoppingList(book) {\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      if (!booksDataJson) {\n        booksDataJson = '[]';\n      }\n      const booksData = JSON.parse(booksDataJson);\n      booksData.push(book);\n      localStorage.setItem(BOOKS_STORAGE, JSON.stringify(booksData));\n    }\n\n    function removeFromShoppingList(book) {\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      if (booksDataJson === null) {\n        return;\n      }\n      let booksData = JSON.parse(booksDataJson);\n      booksData = booksData.filter(item => item._id !== book._id);\n      localStorage.setItem(BOOKS_STORAGE, JSON.stringify(booksData));\n    }\n  });\n}\n","import { FetchBooks } from './booksApi';\nexport { renderBookInfo };\n\nfunction renderBookInfo(book, inShoppingList) {\n  const card__btn = inShoppingList\n    ? '<button class=\"card__btn add-card__bnt btn\">remove from shop list</button> <p class = \"congrat-text\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.!</p>'\n    : '<button class=\"card__btn add-card__bnt btn\">add to shop list</button> <p class = \"congrat-text\"></p>';\n  return `<div class=\"backdrop backdrop__modal js-book-modal\">\n  <div class=\"modal book-card__modal scrollable\">\n\n    <button class=\"modal-close__btn js-book-close\">\n           <img class=\"close__icon\"src=${new URL(\n        '../images/modal-pop/icon-x-close.svg',\n        import.meta.url\n      )} alt=\"close_icon\" />\n    </button>\n    <div class=\"book-card\">\n      <div class=\"book-card__thumb\">\n        <img class=\"book-card__img\" src=\"${\n          book.book_image\n        }\" alt=\"book_image\" loading=\"lazy\" />\n      </div>\n      <div class=\"book-info\">\n        <h2 class=\"book-title\">${book.title}</h2>\n        <h3 class=\"book-author\">${book.author}</h3>\n        <p class=\"book-description\">${book.description}</p>\n        <ul class=\"shops-list list\">\n          <li class=\"shops-item\">\n            <a\n              class=\"buy-links\"\n              href=\"${book.amazon_link}\"\n              aria-label=\"amazon-shop icon\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <img\n                class=\"amazon-shop__icon book-shop__icons\"\n                src=\"${new URL(\n                  '../images/modal-pop/amazon-link_2x.png',\n                  import.meta.url\n                )}\"\n                alt=\"amazon-shop icon\"\n                loading=\"lazy\"\n              />\n            </a>\n          </li>\n          <li class=\"shops-item\">\n            <a\n              class=\"buy-links\"\n              href=\"${book.apple_link}\"\n              aria-label=\"apple-book icon\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <img\n                class=\"apple-book__icon book-shop__icons\"\n                src=\"${new URL(\n                  '../images/modal-pop/book-link_2x.png',\n                  import.meta.url\n                )}\"\n                alt=\"apple-book icon\"\n                loading=\"lazy\"\n              />\n            </a>\n          </li>\n         \n        </ul>\n      </div>\n      \n    </div>\n    <div class=\"book-card__btn\">${card__btn}</div>`;\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ewt39\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dUcaX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8BG5f\")).toString();","// const btn = $('#scrollButton');\n\n// $(window).scroll(function() {\n//   if ($(window).scrollTop() > 60) {\n//     btn.addClass('show');\n//   } else {\n//     btn.removeClass('show');\n//   }\n// });\n\n// btn.on('click', function(e) {\n//   e.preventDefault();\n//   $('html, body').animate({scrollTop:0}, '300');\n// });\n\nconst scrollButton = document.getElementById('scrollButton');\nconst body = document.querySelector('body')\n\n\n\n\nfunction updateScrollButtonVisibility() {\n  if (window.scrollY > 600) {\n    scrollButton.style.display = 'flex'; \n  } else {\n    scrollButton.style.display = 'none';\n  }\n}\n\nwindow.addEventListener('scroll', updateScrollButtonVisibility);\n\n\nscrollButton.addEventListener('click', () => {\n  // window.scrollTo({\n  //   top: 0,\n  //   behavior: 'smooth',\n  // });\n  body.scrollIntoView({\n    top: 0,\n    behavior: 'smooth',\n  })\n});\n\n// const scrollUpButton = document.getElementById('scrollButton');\n\n// scrollUpButton.addEventListener('click', function() {\n//   window.scrollTo({\n//     top: 0,\n//     behavior: 'smooth'\n//   });\n// });\n\n// const scrollUpButton = document.getElementById('scrollUpbutton');\n\n// scrollButton.addEventListener('click', function () {\n//   window.scrollTo({\n//     top: 0,\n//     behavior: 'smooth',\n//   });\n// });\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ju4sA","$aa012f47f644ff15$export$2e2bcd8739ae039","books","markup","_id","book_image","title","author","$03caba7a700ff21c$var$renderCardsWrapper","cards","list_name","adaptiveStyles","window","screen","width","$03caba7a700ff21c$export$2e2bcd8739ae039","async","data","box","document","querySelector","innerHTML","completeCardsSection","insertAdjacentHTML","i1","i2","console","error","log","$d706c914d748cb55$var$bookShelf","FetchBooks","$d706c914d748cb55$var$fetchBook","response","fetchTopBooks","$d706c914d748cb55$export$2e2bcd8739ae039","$656843fb62c559d0$var$genresListWrapper","$656843fb62c559d0$export$2e2bcd8739ae039","array","ul","createElement","classList","add","allCat","allCatBtn","setAttribute","textContent","appendChild","forEach","el","listOfItems","item","$8ac15c9f5e1cd71b$export$2e2bcd8739ae039","fetchCategory","categories","category","response1","fetchCategoryOfBooks","then","cat","catName","words","split","lastWord","pop","string","join","$8ac15c9f5e1cd71b$var$findLastWord","$8ac15c9f5e1cd71b$var$renderMain","$94e89ce472e46323$var$addActiveStyle","click","activeBtn","categoryName","srcElement","dataset","catSelector","querySelectorAll","btn","remove","$94e89ce472e46323$export$2e2bcd8739ae039","privActiveBtn","target","nodeName","error1","$f3b06000f9b46fbb$var$wrapper","$f3b06000f9b46fbb$var$fetchCategory","fetchCategoryList","$f3b06000f9b46fbb$var$categoriesList","addEventListener","ev","$5a1edf1196be6c57$exports","URL","resolve","import","meta","url","toString","$7908452de8f61fc4$exports","$44ea7292148d009f$export$dfdab5988bc648f","book","inShoppingList","card__btn","description","amazon_link","apple_link","$2bc4f763757bb3a4$exports","$2cade6f3296bc1f8$var$functionenable","onscroll","body","$2cade6f3296bc1f8$var$books","event1","ref","ref1","bookCard","closest","TopScroll","LeftScroll","scrollY","documentElement","scrollTop","scrollX","scrollLeft","scrollTo","$2cade6f3296bc1f8$var$functiondisable","bookId1","getAttribute","fetch","bookId","book_json","fetchBookId","book_data","buy_links","find","link","name","BOOKS_STORAGE","popup","isInShoppingList","onEscape","event","key","removeChild","removeEventListener","stopPropagation","backDropModalEl","booksDataJson","localStorage","getItem","undefined","evt","congrTextEl","booksData","filter","setItem","stringify","removeFromShoppingList","innerText","push","addToShoppingList","$4f0b261e34a4f505$var$scrollButton","getElementById","$4f0b261e34a4f505$var$body","style","display","scrollIntoView","top","behavior"],"version":3,"file":"index.ef42e29f.js.map"}