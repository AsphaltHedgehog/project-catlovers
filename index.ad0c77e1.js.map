{"mappings":"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","sources":["src/js/main.js","src/js/renderBookCards.js","src/js/mainCardRender.js","src/js/categoriesRenderList.js","src/js/categories.js","src/js/categoriesSelectBtn.js","src/js/categoriesSelect.js","src/js/modal-current-link.js","src/js/loader.js"],"sourcesContent":["import { FetchBooks } from './booksApi.js';\nimport renderBookCards from './renderBookCards.js';\n\nconst bookShelf = new FetchBooks;\n\nasync function fetchBook() {\n  try {\n    const response = await bookShelf.fetchTopBooks();\n    renderBookCards(response.data)\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  };\n};\n\nfetchBook()\n\nexport default fetchBook;\n","import renderCard from './mainCardRender.js';\n//\n\nasync function renderCards(data) {\n  // best seller books title\n  const bookShelf = document.querySelector('.books-content');\n  console.log(bookShelf);\n  bookShelf.innerHTML = '<ul class=\"top-books\"></ul>'\n\n  const box = document.querySelector('.top-books');\n  box.insertAdjacentHTML(\"beforebegin\",\n    '<h2 class=\"main-title\">Best Sellers<span class=\"color-accent\">Books</span></h2>'\n  );\n  // ебучие циклы\n  const fragment = document.createDocumentFragment();\n  try {\n    if (window.screen.width < 767.8) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 1;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width > 767.8 && window.screen.width < 1440) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 3;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width >= 1440) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 5;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else {\n      // console.log('nepravilno');\n      console.error('ops... something went wrong, contact us via email');\n      // notify\n    }\n  } catch (error) {\n    console.log(error);\n    // не забудь нотификс\n  }\n  // const topCat = document.\n}\n\nfunction renderCardsWrapper(cards, list_name) {\n  const markup = `\n  <li>\n  <h3 class=\"item-category\">${list_name}</h3>\n  <ul class=\"box-category\">\n  ${cards}\n  </ul>\n  <button type=\"button\" aria-label=\"Show more\" class=\"see-more\">See more</button>\n  </li>\n  `;\n\n  return markup;\n}\n\nexport default renderCards;\n","function cardRender(books, length) {\n  let markup = '';\n  for (let i = 0; i < length; i += 1) {\n    const { _id,book_image ,title, author } = books[i];\n    \n    markup += `\n      <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\n        <a class=\"link-books-render\" href=\"#\">  \n      <div class=\"card-book\">\n            <div class=\"img-card-book\">\n            <img src=\"${book_image}\" alt=\"book\" class=\"img-book\">\n            </div>\n              <div class=\"box-text-book-best\">\n                <div class=\"box-title\">  \n                  <p class=\"title-book\">${title}</p>\n                </div>\n                  <div class=\"box-author\">  \n                  <p class=\"author-book\">${author}</p>\n                  </div>\n                </div>\n          </div>\n        </a>\n          </li>\n  `\n  };\n  return markup;\n};\n\nexport default cardRender;\n","const genresListWrapper = document.querySelector('.categories-select-wrapper')\n\n\nfunction populateGenresList(array) {\n  // main ul\n  const ul = document.createElement('ul');\n  ul.classList.add('categories-list');\n  // no filtering btn\n  const allCat = document.createElement('li');\n  const allCatBtn = document.createElement('button');\n  allCatBtn.setAttribute('type', 'button');\n  allCatBtn.setAttribute('id', 'All categories');\n  allCatBtn.classList.add('categories-active', 'categories-list-el');\n  allCatBtn.textContent = 'All categories';\n  allCat.appendChild(allCatBtn)\n  ul.appendChild(allCat);\n  // select genres btn's\n  array.forEach((el, i) => {\n    const listOfItems = document.createElement('li');\n    const item = document.createElement('button');\n    item.setAttribute('type', 'button');\n    item.setAttribute('id', `${array[i].list_name}`);\n    item.classList.add('categories-list-el');\n    item.textContent = `${el.list_name}`;\n    listOfItems.appendChild(item);\n    ul.appendChild(listOfItems);\n  })\n  // populating ul with btn's\n  genresListWrapper.appendChild(ul);\n};\n\n\nexport default populateGenresList\n\n","import { FetchBooks } from './booksApi.js'\nimport populateGenresList from './categoriesRenderList.js'\nimport onCatSelectBtn from './categoriesSelectBtn.js'\n\n// ========================================================\n\nconst wrapper = document.querySelector('.categories-select-wrapper')\n\n// ========================================================\n\nconst fetchCategory = new FetchBooks\n\nasync function categoriesList() {\n  try {\n    const response = await fetchCategory.fetchCategoryList();\n    await populateGenresList(response.data);\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  }\n}\n\ncategoriesList()\n\nwrapper.addEventListener('click', ev => onCatSelectBtn(ev, fetchCategory));\n\n\n\n\n","import populateByCategories from './categoriesSelect';\nimport fetchBook from './main';\n\nasync function onCatSelectBtn(click, fetchCategory) {\n  if (click.target.nodeName !== 'BUTTON') {\n    return;\n  };\n  try {\n    if (click.target.id === 'All categories') {\n      fetchBook();\n      const privActiveBtn = document.querySelector('.categories-active');\n      privActiveBtn.classList.remove('categories-active');\n      click.target.classList.add('categories-active');\n      return;\n    };\n  } catch (error) {\n    console.log(error);\n  }\n  const privActiveBtn = document.querySelector('.categories-active');\n  privActiveBtn.classList.remove('categories-active');\n  click.target.classList.add('categories-active');\n  try {\n    // console.log(click.srcElement.id);\n    fetchCategory.category = click.srcElement.id;\n    // console.log(fetchCategory.category);\n    await populateByCategories(fetchCategory);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\n// const all = document.querySelector('#All categories')\n\n// all.addEventListener('click', () =>  fetchBooks())\n\n\n\n\n\n\n\n\nexport default onCatSelectBtn;","import cardRender from './mainCardRender.js';\n\nasync function populateByCategories(fetchCategory) {\n  const categories = fetchCategory.category;\n  try {\n    const response = await fetchCategory.fetchCategoryOfBooks().then(\n      response => response.data\n    );\n    if (response.length < 1) {\n      // return МЕСТО ДЛЯ НОТИФИКСА!!!!\n    };\n    const cards = cardRender(response, response.length);\n\n    await renderMain(categories, cards);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\nfunction renderMain(cat, cards) {\n  const catName = findLastWord(cat);\n\n  const box = document.querySelector('.books-content');\n  const title = `<h2 class=\"main-title\">${catName.string} <span class=\"color-accent\">${catName.lastWord}</span></h2>`\n  // const title = document.createElement('h2');\n  // title.classList.add('main-title');\n  // title.insertAdjacentHTML('beforeend',\n  //   ``\n  // );\n  box.innerHTML = `${title} <ul class=\"top-books\">${cards}</ul>`;\n  // .innerHTML(cards);\n  // console.log(fragment);\n  // box.innerHTML(fragment);\n};\n\n\nfunction findLastWord(cat) {\n  const words = cat.split(' ');\n  if (words.length > 1) {\n    const lastWord = words.pop();\n    const string = words.join(' ');\n\n    return {\n      string: string,\n      lastWord: lastWord,\n    };\n  } else {\n    // Место под нотифликс!!!!!!!!!!!!!!!!!!!\n    return console.log(error);\n  };\n}\n\n\nexport default populateByCategories;","function addCurentModalLinkNewClass() {\n    \n    const linkElModal = document.querySelectorAll('.modal-link-nav');\n    let pathModal = window.location.pathname; \n    \n    \n    linkElModal.forEach(function (link) {\n        let linkPathModal = link.getAttribute('href');\n        if (pathModal === linkPathModal) {\n            link.classList.add('current-modal');\n        }\n    })\n}\n\naddCurentModalLinkNewClass();","const loaders = document.querySelectorAll('.loader-container');\nconst categories = document.querySelector('.categories-select-wrapper');\n\nwindow.addEventListener('load', function () {\n  loaders.forEach(loader => {\n    this.setTimeout(() => {\n      loader.style.display = 'none';\n    }, 2000);\n  });\n});\n"],"names":["$bpxeT","parcelRequire","$8c960d6988dcbed2$export$2e2bcd8739ae039","books","length","markup","i","_i","_id","book_image","title","author","concat","$e8fd001f8770684d$var$_renderCards","$parcel$interopDefault","$2TvXO","mark","_callee","data","bookShelf","box","list_name","cards","completeCardsSection","i1","_i1","books1","list_name1","cards1","completeCardsSection1","i2","_i2","books2","list_name2","cards2","completeCardsSection2","document","querySelector","console","log","innerHTML","insertAdjacentHTML","createDocumentFragment","window","screen","width","$e8fd001f8770684d$var$renderCardsWrapper","error","apply","this","arguments","$e8fd001f8770684d$export$2e2bcd8739ae039","$089c40fcbb903d20$var$bookShelf","$7a6b6","FetchBooks","$089c40fcbb903d20$var$fetchBook","$089c40fcbb903d20$var$_fetchBook","response","fetchTopBooks","_ctx","sent","t0","$089c40fcbb903d20$export$2e2bcd8739ae039","$2dc929d27f71ed32$var$genresListWrapper","$2dc929d27f71ed32$export$2e2bcd8739ae039","array","ul","createElement","classList","add","allCat","allCatBtn","setAttribute","textContent","appendChild","forEach","el","listOfItems","item","$5ffdf3e24213500a$var$_populateByCategories","fetchCategory","categories","response1","category","fetchCategoryOfBooks","then","$5ffdf3e24213500a$var$renderMain","cat","catName","words","split","lastWord","pop","string","join","$5ffdf3e24213500a$var$findLastWord","$5ffdf3e24213500a$export$2e2bcd8739ae039","$852f23af65b72c1c$var$_onCatSelectBtn","click","target","nodeName","id","remove","srcElement","t1","linkElModal","pathModal","$852f23af65b72c1c$export$2e2bcd8739ae039","$7035cf87bda54340$var$wrapper","$7035cf87bda54340$var$fetchCategory","$7035cf87bda54340$var$_categoriesList","fetchCategoryList","$7035cf87bda54340$var$categoriesList","addEventListener","ev","querySelectorAll","location","pathname","link","linkPathModal","getAttribute","$03da642c15b09e5e$var$loaders","loader","_this","setTimeout","style","display"],"version":3,"file":"index.ad0c77e1.js.map"}