function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},s=n.parcelRequiree062;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){o[e]=n},n.parcelRequiree062=s),s.register("kyEFX",(function(n,t){var o,s;e(n.exports,"register",(function(){return o}),(function(e){return o=e})),e(n.exports,"resolve",(function(){return s}),(function(e){return s=e}));var r={};o=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)r[n[t]]=e[n[t]]},s=function(e){var n=r[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),s("kyEFX").register(JSON.parse('{"lz7nD":"shopinglist.4ddb708c.js","dUcaX":"amazon-link_2x.fad82e15.png","8BG5f":"book-link_2x.cdd3fb2c.png","2jCLY":"empty-shop-list-bgr.4abada78.png","eYuym":"shopinglist.219adc58.js"}')),s("OrxsF"),s("ghhZM"),s("kB3cp"),s("9h4Q6"),s("g3WOS");const r=new(0,s("ju4sA").FetchBooks),i=document.querySelector(".shop-list");title=document.querySelector(".shop-title");let l="",a=[];var c;a=null!==(c=JSON.parse(localStorage.getItem("books")))&&void 0!==c?c:[];var d;d=new URL(s("kyEFX").resolve("dUcaX"),import.meta.url).toString();var p;function u({_id:e,book_image:n,title:t,list_name:o,description:s,author:r,buy_links:i}){l=`\n  <li class="shop-item" data-idcard="${e}">\n        <button type="button" class="delate-btn" data-id="${e}">\n          \n        </button>\n        <img class="img-shop-list" src="${n}" alt="${t}" width="100" height="145" loading="lazy"/>\n        <div class="card-shopplist">\n          <h2 class="card-title-shoplist">${t}</h2>\n          <p class="card-category-shoplist">${o}</p>\n          <p class="card-description-shoplist">${s}</p>\n          <div class="wrapper-card-shoplist">\n            <p class="card-author-shoplist">${r}</p>\n            <ul class="shop-list-card">\n            <li class="shops-item">\n            <a\n              class="buy-links"\n              href="${i[0].url}"\n              aria-label="amazon-shop icon"\n              target="_blank"\n              rel="noopener noreferrer"\n            >\n              <img\n                // class="amazon-shop-icon-shoplist"\n                src="${new URL(d)}"\n                alt="amazon-shop icon"\n                loading="lazy"\n              />\n            </a>\n            </li>\n            <li class="shops-item">\n            <a\n              class="buy-links"\n              href="${i[1].url}"\n              aria-label="amazon-shop icon"\n              target="_blank"\n              rel="noopener noreferrer"\n            >\n              <img\n                class="apple-book-shoplist "\n                src="${new URL(p)}"\n                alt="amazon-shop icon"\n                loading="lazy"\n              />\n            </a>\n            </li>\n            </ul>\n          </div>\n        </div>\n      </li>\n  `}p=new URL(s("kyEFX").resolve("8BG5f"),import.meta.url).toString();var h;function g(e){title.classList.add("shop-list-empty"),e.innerHTML=`<li><p class="text-empty-shop-list">This page is empty, add some books and proceed to order.</p></li><li><img src=${new URL(h)} width="265"\n      height="198" alt="falling books"/></li>`}h=new URL(s("kyEFX").resolve("2jCLY"),import.meta.url).toString(),async function(e){if(!e.length>0)return void g(i);const n=[];for(const t of e){r.bookId=t._id;u(await r.fetchBookId().then((e=>e.data))),n.push(l)}await async function(e){!a.length>0?g(i):i.innerHTML=e}(n.join(""))}(a),s("gjiCh");const f=document.querySelector(".shop-list"),m=document.querySelector(".shop-list");document.querySelector(".shop-title");m.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;e.target.parentElement.classList.add("deleted-book");const n=e.target.dataset.id,t=JSON.parse(localStorage.getItem("books"));for(let e=0;e<t.length;e+=1)if(t[e]._id===n){t.splice(e,1),localStorage.setItem("books",JSON.stringify(t));break}0===t.length&&(console.log("delete"),g(f))}));
//# sourceMappingURL=shopinglist.4ddb708c.js.map
