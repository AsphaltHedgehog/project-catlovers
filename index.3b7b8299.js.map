{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6064974b0b5369db.js","src/js/main.js","src/js/mainCardRender.js","src/js/renderBookCards.js","src/js/categories.js","src/js/categoriesRenderList.js","src/js/categoriesSelect.js","src/js/categoriesSelectBtn.js","src/js/pop-up-modal-window.js","src/js/pop-up-modal-rendering.js","node_modules/@parcel/runtime-js/lib/runtime-7ba5895d5f5fcf4a.js","node_modules/@parcel/runtime-js/lib/runtime-984174ab2c0d5bb3.js","node_modules/@parcel/runtime-js/lib/runtime-8a744c46f67fdd6c.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.3b7b8299.js\\\",\\\"ewt39\\\":\\\"icon-x-close.0d6025fe.svg\\\",\\\"dUcaX\\\":\\\"amazon-link_2x.fad82e15.png\\\",\\\"8BG5f\\\":\\\"book-link_2x.cdd3fb2c.png\\\",\\\"eYuym\\\":\\\"shopinglist.cb3b104f.js\\\"}\"));","import { FetchBooks } from './booksApi.js';\nimport renderBookCards from './renderBookCards.js';\n\nconst bookShelf = new FetchBooks;\n\nasync function fetchBook() {\n  try {\n    const response = await bookShelf.fetchTopBooks();\n    renderBookCards(response.data)\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  };\n};\n\nfetchBook()\n\nexport default fetchBook;\n","function cardRender(books, length) {\n  let markup = '';\n  for (let i = 0; i < length; i += 1) {\n    const { _id,book_image ,title, author } = books[i];\n    \n    markup += `\n      <li class=\"item-category-book js-book-modal\" data-book-id=\"${_id}\">\n        <a class=\"link-books-render\" href=\"#\">  \n      <div class=\"card-book\">\n            <div class=\"img-card-book\">\n            <img src=\"${book_image}\" alt=\"book\" class=\"img-book\">\n            </div>\n              <div class=\"box-text-book-best\">\n                <div class=\"box-title\">  \n                  <p class=\"title-book\">${title}</p>\n                </div>\n                  <div class=\"box-author\">  \n                  <p class=\"author-book\">${author}</p>\n                  </div>\n                </div>\n          </div>\n        </a>\n          </li>\n  `\n  };\n  return markup;\n};\n\nexport default cardRender;\n","import renderCard from './mainCardRender.js';\n//\n\nasync function renderCards(data) {\n  // best seller books title\n  // const bookShelf = document.querySelector('.books-content');\n  // bookShelf.innerHTML = '<ul class=\"top-books\"></ul>';\n\n  const box = document.querySelector('.top-books');\n  box.innerHTML =\n    '<li><h2 class=\"main-title\">Best Sellers<span class=\"color-accent\"> Books</span></h2></li>';\n\n  // ебучие циклы\n  // const fragment = document.createDocumentFragment();\n  try {\n    if (window.screen.width < 767.8) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 1;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width > 767.8 && window.screen.width < 1439.98) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 3;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else if (window.screen.width >= 1440) {\n      for (let i = 0; i < 4; i += 1) {\n        const length = 5;\n        const { books, list_name } = data[i];\n        const cards = renderCard(books, length);\n        const completeCardsSection = renderCardsWrapper(cards, list_name);\n        box.insertAdjacentHTML('beforeend', completeCardsSection);\n      }\n    } else {\n      // console.log('nepravilno');\n      console.error('ops... something went wrong, contact us via email');\n      // notify\n    }\n  } catch (error) {\n    console.log(error);\n    // не забудь нотификс\n  }\n  // const topCat = document.\n}\n\nfunction renderCardsWrapper(cards, list_name) {\n  const markup = `\n  <li class=\"top-books-containers \">\n  <h3 class=\"item-category\">${list_name}</h3>\n  <ul class=\"box-category\">\n  ${cards}\n  </ul>\n  <button type=\"button\" data-cat-name='${list_name}' aria-label=\"Show more\" class=\"see-more\">See more</button>\n  </li>\n  `;\n\n  return markup;\n}\n\nexport default renderCards;\n","import { FetchBooks } from './booksApi.js'\nimport populateGenresList from './categoriesRenderList.js'\nimport onCatSelectBtn from './categoriesSelectBtn.js'\n\n// ========================================================\n\nconst wrapper = document.querySelector('.base-wrapper')\n\n// ========================================================\n\nconst fetchCategory = new FetchBooks\n\nasync function categoriesList() {\n  try {\n    const response = await fetchCategory.fetchCategoryList();\n    await populateGenresList(response.data);\n  } catch (error) {\n    console.error(error);\n    // need notiflix or placeholder for errors\n  }\n}\n\ncategoriesList()\n\nwrapper.addEventListener('click', ev => onCatSelectBtn(ev, fetchCategory));\n\n\n\n\n","const genresListWrapper = document.querySelector('.categories-select-wrapper')\n\n\nfunction populateGenresList(array) {\n  // main ul\n  const ul = document.createElement('ul');\n  ul.classList.add('categories-list');\n  // no filtering btn\n  const allCat = document.createElement('li');\n  const allCatBtn = document.createElement('button');\n  allCatBtn.setAttribute('type', 'button');\n  allCatBtn.setAttribute('data-cat-name', 'All categories');\n  allCatBtn.classList.add('categories-active', 'categories-list-el');\n  allCatBtn.textContent = 'All categories';\n  allCat.appendChild(allCatBtn)\n  ul.appendChild(allCat);\n  // select genres btn's\n  array.forEach((el, i) => {\n    const listOfItems = document.createElement('li');\n    const item = document.createElement('button');\n    item.setAttribute('type', 'button');\n    item.setAttribute('data-cat-name', `${array[i].list_name}`);\n    item.classList.add('categories-list-el');\n    item.textContent = `${el.list_name}`;\n    listOfItems.appendChild(item);\n    ul.appendChild(listOfItems);\n  })\n  // populating ul with btn's\n  genresListWrapper.appendChild(ul);\n};\n\n\nexport default populateGenresList\n\n","import cardRender from './mainCardRender.js';\n\nasync function populateByCategories(fetchCategory) {\n  const categories = fetchCategory.category;\n  try {\n    const response = await fetchCategory.fetchCategoryOfBooks().then(\n      response => response.data\n    );\n    if (response.length < 1) {\n      // return МЕСТО ДЛЯ НОТИФИКСА!!!!\n    };\n    const cards = cardRender(response, response.length);\n\n    await renderMain(categories, cards);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\nfunction renderMain(cat, cards) {\n  const catName = findLastWord(cat);\n\n  const box = document.querySelector('.books-content');\n  const title = `<li><h2 class=\"main-title\">${catName.string} <span class=\"color-accent\">${catName.lastWord}</span></h2></li>`\n  // const title = document.createElement('h2');\n  // title.classList.add('main-title');\n  // title.insertAdjacentHTML('beforeend',\n  //   ``\n  // );\n  const top = document.querySelector('.top-books');\n  top.innerHTML= `${title}<div class=\"cat-books-container\">${cards}</div>`;\n  // box.innerHTML = `${title} <ul class=\"top-books\">${cards}</ul>`;\n  // .innerHTML(cards);\n  // console.log(fragment);\n  // box.innerHTML(fragment);\n};\n\n\nfunction findLastWord(cat) {\n  const words = cat.split(' ');\n  if (words.length > 1) {\n    const lastWord = words.pop();\n    const string = words.join(' ');\n\n    return {\n      string: string,\n      lastWord: lastWord,\n    };\n  } else {\n    // Место под нотифликс!!!!!!!!!!!!!!!!!!!\n    return console.log(error);\n  };\n}\n\n\nexport default populateByCategories;","import populateByCategories from './categoriesSelect';\nimport fetchBook from './main';\n\n// const catSelector = document.querySelectorAll('.categories-list li');\n\nasync function onCatSelectBtn(click, fetchCategory) {\n  if (click.target.nodeName !== 'BUTTON') {\n    return;\n  };\n  try {\n    if (click.target.dataset.catName === 'All categories') {\n      fetchBook();\n      const privActiveBtn = document.querySelector('.categories-active');\n      privActiveBtn.classList.remove('categories-active');\n      click.target.classList.add('categories-active');\n      return;\n    };\n  } catch (error) {\n    console.log(error);\n  }\n  const privActiveBtn = document.querySelector('.categories-active');\n  privActiveBtn.classList.remove('categories-active');\n  // console.log(click.target.dataset.catName);\n  // console.log(document.querySelectorAll('.categories-list li'));\n  addActiveStyle(click)\n  // click.target.classList.add('categories-active');\n  try {\n    // console.log(click.srcElement.id);\n    fetchCategory.category = click.srcElement.dataset.catName;\n    // console.log(fetchCategory.category);\n    await populateByCategories(fetchCategory);\n  } catch (error) {\n    console.log(error);\n  };\n};\n\n// const all = document.querySelector('#All categories')\n\n// all.addEventListener('click', () =>  fetchBooks())\n\n\n\nfunction addActiveStyle(click) {\n  categoryName = click.srcElement.dataset.catName;\n  catSelector = document.querySelectorAll('.categories-list li');\n  for (const el of catSelector) {\n    const btn = el.querySelector(`button[data-cat-name='${categoryName}']`);\n    if (btn) {\n      btn.classList.add('categories-active')\n      break;\n    }\n    console.log(1);\n  }\n  // catSelector.find()\n}\n\n// function catSelector.forEach((li) => {\n//     const button = event.target.closest('button[data-cat-name]');\n//   })\n\n// function activeSwitch(catName) {\n//   console.log(catName);\n//   if (catName) {\n    \n//   }\n// }\n\n\n\n\n\n\n\n\nexport default onCatSelectBtn;","import { FetchBooks } from './booksApi';\nimport { renderBookInfo } from './pop-up-modal-rendering';\n\n// function noScroll() {\n//   window.scrollTo(0, 0)\n// }\n\nfunction functiondisable() {\n  let TopScroll = 0\n  let LeftScroll = 0\n  // To get the scroll position of current webpage\n  TopScroll = window.scrollY || document.documentElement.scrollTop;\n  LeftScroll = window.scrollX || document.documentElement.scrollLeft;\n  document.body.classList.add('blockScroll');\n  \n  // if scroll happens, set it to the previous value\n  window.onscroll = function() {\n  window.scrollTo(LeftScroll, TopScroll);\n          };\n  }\n  \n  function functionenable() {\n  window.onscroll = function() {};\n  document.body.classList.remove('blockScroll');\n  }\n\nconst books = document.querySelector('.top-books');\nif (books) {\n  books.addEventListener('click', async event => {\n    const bookCard = event.target.closest('li.js-book-modal');\n    if (!bookCard) {\n      return;\n    }\n    // window.addEventListener('scroll', noScroll)\n    functiondisable();\n    const bookId = bookCard.getAttribute('data-book-id');\n    const fetch = new FetchBooks();\n    fetch.bookId = bookId;\n    const response = await fetch.fetchBookId();\n    const book_json = response.data;\n    const book_data = {\n      book_image: book_json.book_image,\n      title: book_json.title,\n      description: book_json.description,\n      author: book_json.author,\n      amazon_link: book_json.buy_links.find(link => link.name === 'Amazon')\n        ?.url,\n      apple_link: book_json.buy_links.find(link => link.name === 'Apple Books')\n        ?.url,\n    };\n\n    const BOOKS_STORAGE = 'books';\n    const popup = document.createElement('div');\n\n    popup.innerHTML = renderBookInfo(book_data, isInShoppingList(bookId));\n    document.body.appendChild(popup);\n\n    const onEscape = event => {\n      if (event.key === 'Escape') {\n        document.body.removeChild(popup);\n        document.removeEventListener('keyup', onEscape);\n        functionenable();\n        // window.removeEventListener('scroll', noScroll)\n      }\n    };\n\n    document.addEventListener('keyup', onEscape);\n\n    const modalCloseBtnEl = popup.querySelector('.modal-close__btn');\n\n    modalCloseBtnEl.addEventListener('click', closeModal);\n    function closeModal(event) {\n      document.body.removeChild(popup);\n      document.removeEventListener('keyup', onEscape);\n      event.stopPropagation();\n      functionenable();\n      // window.removeEventListener('scroll', noScroll)\n    }\n\n    const backDropModalEl = popup.querySelector('.backdrop__modal');\n    backDropModalEl.addEventListener('click', closeModalClick);\n    function closeModalClick(evt) {\n      if (evt.target !== backDropModalEl) {\n        return;\n      }\n      document.body.removeChild(popup);\n      document.removeEventListener('keyup', onEscape);\n      evt.stopPropagation();\n      functionenable();\n      // window.removeEventListener('scroll', noScroll)\n    }\n\n    function isInShoppingList(bookId) {\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      if (!booksDataJson) {\n        booksDataJson = '[]';\n      }\n      let booksData = JSON.parse(booksDataJson);\n      return booksData.find(book => book._id === bookId) !== undefined;\n    }\n\n    const congrTextEl = document.querySelector('.congrat-text');\n    popup.querySelector('.add-card__bnt').addEventListener('click', evt => {\n      if (isInShoppingList(bookId)) {\n        removeFromShoppingList(book_json);\n        evt.target.innerText = 'add to shopping list';\n        congrTextEl.textContent = '';\n      } else {\n        addToShoppingList(book_json);\n        evt.target.innerText = 'remove from the shopping list';\n        congrTextEl.textContent =\n          'Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n      }\n    });\n\n    function addToShoppingList(book) {\n      console.log('adding', book);\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      if (!booksDataJson) {\n        booksDataJson = '[]';\n      }\n      const booksData = JSON.parse(booksDataJson);\n      booksData.push(book);\n      localStorage.setItem(BOOKS_STORAGE, JSON.stringify(booksData));\n    }\n\n    function removeFromShoppingList(book) {\n      console.log('removing', book);\n      let booksDataJson = localStorage.getItem(BOOKS_STORAGE);\n      if (booksDataJson === null) {\n        return;\n      }\n      let booksData = JSON.parse(booksDataJson);\n      booksData = booksData.filter(item => item._id !== book._id);\n      localStorage.setItem(BOOKS_STORAGE, JSON.stringify(booksData));\n    }\n  });\n}\n","import { FetchBooks } from './booksApi';\nexport { renderBookInfo };\n\nfunction renderBookInfo(book, inShoppingList) {\n  const card__btn = inShoppingList\n    ? '<button class=\"card__btn add-card__bnt btn\">remove from shop list</button> <p class = \"congrat-text\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.!</p>'\n    : '<button class=\"card__btn add-card__bnt btn\">add to shop list</button> <p class = \"congrat-text\"></p>';\n  return `<div class=\"backdrop backdrop__modal js-book-modal\">\n  <div class=\"modal book-card__modal scrollable\">\n\n    <button class=\"modal-close__btn js-book-close\">\n           <img class=\"close__icon\"src=${new URL(\n        '../images/modal-pop/icon-x-close.svg',\n        import.meta.url\n      )} alt=\"close_icon\" />\n    </button>\n    <div class=\"book-card\">\n      <div class=\"book-card__thumb\">\n        <img class=\"book-card__img\" src=\"${\n          book.book_image\n        }\" alt=\"book_image\" loading=\"lazy\" />\n      </div>\n      <div class=\"book-info\">\n        <h2 class=\"book-title\">${book.title}</h2>\n        <h3 class=\"book-author\">${book.author}</h3>\n        <p class=\"book-description\">${book.description}</p>\n        <ul class=\"shops-list list\">\n          <li class=\"shops-item\">\n            <a\n              class=\"buy-links\"\n              href=\"${book.amazon_link}\"\n              aria-label=\"amazon-shop icon\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <img\n                class=\"amazon-shop__icon book-shop__icons\"\n                src=\"${new URL(\n                  '../images/modal-pop/amazon-link_2x.png',\n                  import.meta.url\n                )}\"\n                alt=\"amazon-shop icon\"\n                loading=\"lazy\"\n              />\n            </a>\n          </li>\n          <li class=\"shops-item\">\n            <a\n              class=\"buy-links\"\n              href=\"${book.apple_link}\"\n              aria-label=\"apple-book icon\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <img\n                class=\"apple-book__icon book-shop__icons\"\n                src=\"${new URL(\n                  '../images/modal-pop/book-link_2x.png',\n                  import.meta.url\n                )}\"\n                alt=\"apple-book icon\"\n                loading=\"lazy\"\n              />\n            </a>\n          </li>\n         \n        </ul>\n      </div>\n      \n    </div>\n    <div class=\"book-card__btn\">${card__btn}</div>`;\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ewt39\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dUcaX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8BG5f\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ju4sA","$aa012f47f644ff15$export$2e2bcd8739ae039","books","markup","_id","book_image","title","author","$03caba7a700ff21c$var$renderCardsWrapper","cards","list_name","$03caba7a700ff21c$export$2e2bcd8739ae039","async","data","box","document","querySelector","innerHTML","window","screen","width","completeCardsSection","insertAdjacentHTML","i1","i2","console","error","log","$d706c914d748cb55$var$bookShelf","FetchBooks","$d706c914d748cb55$var$fetchBook","response","fetchTopBooks","$d706c914d748cb55$export$2e2bcd8739ae039","$656843fb62c559d0$var$genresListWrapper","$656843fb62c559d0$export$2e2bcd8739ae039","array","ul","createElement","classList","add","allCat","allCatBtn","setAttribute","textContent","appendChild","forEach","el","listOfItems","item","$8ac15c9f5e1cd71b$export$2e2bcd8739ae039","fetchCategory","categories","category","response1","fetchCategoryOfBooks","then","cat","catName","words","split","lastWord","pop","string","join","$8ac15c9f5e1cd71b$var$findLastWord","$8ac15c9f5e1cd71b$var$renderMain","$94e89ce472e46323$export$2e2bcd8739ae039","click","target","nodeName","dataset","remove","categoryName","srcElement","catSelector","querySelectorAll","btn","$94e89ce472e46323$var$addActiveStyle","error1","$f3b06000f9b46fbb$var$wrapper","$f3b06000f9b46fbb$var$fetchCategory","fetchCategoryList","$f3b06000f9b46fbb$var$categoriesList","addEventListener","ev","$5a1edf1196be6c57$exports","URL","resolve","import","meta","url","toString","$7908452de8f61fc4$exports","$44ea7292148d009f$export$dfdab5988bc648f","book","inShoppingList","card__btn","description","amazon_link","apple_link","$2bc4f763757bb3a4$exports","$2cade6f3296bc1f8$var$functionenable","onscroll","body","$2cade6f3296bc1f8$var$books","event1","ref","ref1","bookCard","closest","TopScroll","LeftScroll","scrollY","documentElement","scrollTop","scrollX","scrollLeft","scrollTo","$2cade6f3296bc1f8$var$functiondisable","bookId1","getAttribute","fetch","bookId","book_json","fetchBookId","book_data","buy_links","find","link","name","BOOKS_STORAGE","popup","isInShoppingList","onEscape","event","key","removeChild","removeEventListener","stopPropagation","backDropModalEl","booksDataJson","localStorage","getItem","undefined","evt","congrTextEl","booksData","filter","setItem","stringify","removeFromShoppingList","innerText","push","addToShoppingList"],"version":3,"file":"index.3b7b8299.js.map"}